<br>
<div  class="spinner" *ngIf="loading">
  <mat-spinner strokeWidth='3'></mat-spinner>
  <h3>Hang on there... <br>Getting Customer details</h3>
</div>
<div class="container" fxLayoutGap='20px' fxLayout='column' *ngIf="!loading">

  <div fxLayout='column' fxLayoutGap='20px'>
      <div fxLayout='row' fxLayoutAlign='space-between none' fxLayout.xs="column">
          <div fxFlex><h3 [ngStyle.xs]="'font-size:3vw;'" style="font-size: 15px;">Customer Management >

             <b>Customer details
               </b>
             </h3></div>
          <div fxFlex fxLayoutAlign.xs="center center" fxLayoutAlign="end center">
            <button mat-stroked-button [routerLink]="['/home/customer-management/edit-customer']"
            [queryParams]="{id:customerData._id , edit:'basic'}">
              <mat-icon>edit</mat-icon> Edit Basic details</button>
          </div>
      </div>
      <div fxLayout='row' fxLayout.xs = 'column' fxLayoutGap='30px'>
        <div fxFlex='1 1 10%'></div>
        <div fxFlex='1 1 80%' class="details"  >
            <div style="margin-left: 5%;margin-right: 5%;margin-top:2%;">
              <h2 style="font-weight: bolder;font-size: 1.2vw;"
              [ngStyle.md]="'font-size: 1.8vw;'"
              [ngStyle.sm]="'font-size: 2vw;'"
              [ngStyle.xs]="'font-size: 4vw;'">Customer Details - {{id}}  </h2>
              <h3 style="font-size: 1vw;"
              [ngStyle.md]="'font-size: 1.4vw'"
              [ngStyle.sm]="'font-size: 1.6vw;'"
              [ngStyle.xs]="'font-size: 2.5vw;'"><b>First Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;</b>{{customerData.firstName}}
              </h3>
              <h3 style="font-size: 1vw;"
              [ngStyle.md]="'font-size: 1.4vw'"
              [ngStyle.sm]="'font-size: 1.6vw;'"
              [ngStyle.xs]="'font-size: 2.5vw;'"><b>Last Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:
                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;</b>{{customerData.lastName}}
              </h3>
              <h3 style="font-size: 1vw;"
              [ngStyle.md]="'font-size: 1.4vw'"
              [ngStyle.sm]="'font-size: 1.6vw;'"
              [ngStyle.xs]="'font-size: 2.5vw;'"><b>Mobile &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;</b>  {{customerData.mobile}} </h3>
              <h3 style="font-size: 1vw;"
              [ngStyle.md]="'font-size: 1.4vw'"
              [ngStyle.sm]="'font-size: 1.6vw;'"
              [ngStyle.xs]="'font-size: 2.5vw;'"
              ><b>Email &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;</b> {{customerData.email}} </h3>
                <h3 style="font-size: 1vw;"
                [ngStyle.md]="'font-size: 1.4vw'"
                [ngStyle.sm]="'font-size: 1.6vw;'"
                [ngStyle.xs]="'font-size: 2.5vw;'"
                ><b>Gender &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;</b> {{customerData.gender}} </h3>
              <div *ngIf="customerData.status">
                <h3 style="font-size: 1vw;"
                [ngStyle.md]="'font-size: 1.4vw'"
                [ngStyle.sm]="'font-size: 1.6vw;'"
                [ngStyle.xs]="'font-size: 2.5vw;'"><b>Status &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;</b> <span style="color:green;font-weight: bold;">Active</span>
                </h3>
              </div>
              <div *ngIf="!customerData.status">
                <h3 style="font-size: 1vw;"
                [ngStyle.md]="'font-size: 1.4vw'"
                [ngStyle.sm]="'font-size: 1.6vw;'"
                [ngStyle.xs]="'font-size: 2.5vw;'"><b>Status &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;</b><span style="color:red;font-weight: bold;">Disabled</span> </h3>
              </div>

            </div>
        </div>
        <div fxFlex='1 1 10%'></div>
      </div>
  </div>
  <div fxLayout='row' fxLayout.xs = 'column' fxLayoutGap='30px' fxLayoutAlign="center center">
    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-stroked-button [routerLink]="['/home/customer-management/edit-customer']"
      [ngStyle.xs]="'font-size: 2.5vw;'"
      [queryParams]="{id:customerData._id , edit:'passwordchange'}">
      <mat-icon>edit</mat-icon> Change Password</button>
      <button mat-stroked-button [routerLink]="['/home/customer-management/edit-customer']"
      [ngStyle.xs]="'font-size: 2.5vw;'"
      [queryParams]="{id:customerData._id , edit:'add-address'}">
      <mat-icon>add</mat-icon>&nbsp;Add Adress</button>
    </div>
  </div>
  <div fxLayout='column' >
    <mat-accordion style="margin-left: 10%;margin-right: 10%;">
      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Address
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="al == 0">
          <p>No Address</p>
        </div>
        <div fxLayout="column">
          <div *ngFor="let add of customerData.addresses;let i=index">
            <hr>
            <div fxLayout="row" fxLayoutAlign="space-between none">
              <h4 style="font-weight: 500;">Address {{i+1}}</h4>
              <div>
                <button mat-button class="profile"  [matMenuTriggerFor]="menu"><span ></span>
                  <mat-icon>more_vert</mat-icon></button>
               <mat-menu #menu="matMenu">
                 <button mat-menu-item [routerLink]="['/home/customer-management/edit-customer']"
                 [queryParams]="{id:customerData._id , edit:'address' , addno: add._id}"> <mat-icon>edit</mat-icon> Edit</button>
                 <button mat-menu-item  (click)=" deleteAddress(add._id)"> <mat-icon>delete</mat-icon> Delete</button>
               </mat-menu>
              </div>
            </div>
            <p>Address Type : {{add.addressType}} </p>
            <p style='white-space:pre'>{{add.address}} , </p>
            <p>{{add.landmark}} , </p>
            <p>{{add.city}} , </p>
            <p>{{add.state}} - {{add.pincode}} .</p>
            <br>
          </div>
        </div>

      </mat-expansion-panel>
    </mat-accordion>
    <mat-accordion style="margin-left: 10%;margin-right: 10%;">
      <mat-expansion-panel (opened)="panelOpenState = true"
                           (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title style="font-weight: bold;">
            Orders
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div *ngIf="ol == 0">
          <p>No Orders</p>
        </div>
        <div *ngFor="let order of customerData.cart;let i=index">
          <h4>Order {{i+1}}</h4>
        </div>
      </mat-expansion-panel>
    </mat-accordion>

  </div>

</div>
